using Newtonsoft.Json.Linq;
using ProjectManager.Models;
using System;
using System.Collections.Generic;

namespace ProjectManager.Api.Test.TestData
{
    public static class InputAdvisorInputs
    {
        public readonly static JObject DefaultJSONSchema = JObject.Parse("{\"validated\":true,\"objective\":{\"populationName\":\"\",\"treatmentArm\":\"\",\"controlArm\":\"\",\"endpoint\":[{\"id\":1,\"Name\":\"\",\"Endpoint\":\"\",\"Type\":\"\",\"cardOrder\":1,\"error\":[{\"field\":\"\",\"message\":\"\"}]}],\"error\":[{\"field\":\"\",\"message\":\"\"}]},\"population\":[{\"populationId\":1,\"name\":\"\",\"virtualPopulationSize\":10000,\"endpointModel\":[{\"endpointId\":1,\"model\":{\"id\":1,\"value\":\"Exponential\"},\"inputMethod\":{\"id\":1,\"value\":\"Median Event Times\"},\"numberOfPieces\":1,\"control\":\"20\",\"treatment\":\"40\",\"hazardRatio\":\"0.5\",\"error\":[{\"field\":\"\",\"message\":\"\"}]}],\"dropoutRateModel\":{\"model\":{\"id\":1,\"value\":\"Exponential\"},\"inputMethod\":{\"id\":1,\"value\":\"Probability of Dropout\"},\"numberOfPieces\":1,\"byTime\":1,\"control\":\"0\",\"treatment\":\"0\",\"error\":[{\"field\":\"\",\"message\":\"\"}]},\"cardOrder\":1,\"error\":[{\"field\":\"\",\"message\":\"\"}]}],\"enrollment\":[{\"enrollmentId\":1,\"name\":\"\",\"inputMethod\":{\"id\":1,\"value\":\"Accrual Rate\"},\"distribution\":{\"id\":1,\"value\":\"Uniform\"},\"sites\":[{\"geography\":{\"id\":1,\"value\":\"USA\"},\"siteInitiationTime\":0,\"avgPatientsEnrolled\":8,\"enrollmentCap\":100,\"order\":1,\"error\":[{\"field\":\"\",\"message\":\"\"}]}],\"cardOrder\":1,\"error\":[{\"field\":\"\",\"message\":\"\"}]}],\"operationalCost\":[{\"operationalCostID\":null,\"name\":\"\",\"costPerPatient\":null,\"fixedCost\":null,\"interimLookCost\":null,\"cardOrder\":1,\"error\":[{\"field\":\"\",\"message\":\"\"}]}],\"marketAccess\":[{\"marketAccessId\":1,\"name\":\"\",\"endpointId\":null,\"annualRevenueInPeakYear\":null,\"timeToPeakAnnualRevenue\":null,\"proportionOfResidualSales\":null,\"anticipatedTreatmentEffect\":null,\"timeToPatentExpiry\":null,\"discountRate\":5,\"cardOrder\":1,\"error\":[{\"field\":\"\",\"message\":\"\"}]}],\"design\":[{}]}");
        public readonly static JObject SampleInputAdvisorInputs = JObject.Parse("{\"validated\":true,\"objective\":{\"populationName\":\"p1\",\"treatmentArm\":\"t1\",\"controlArm\":\"c1\",\"endpoint\":[{\"id\":1,\"Name\":\"e1\",\"Endpoint\":\"OS\",\"Type\":\"Time to event\",\"cardOrder\":1,\"error\":[{\"field\":\"\",\"message\":\"\"}]}],\"error\":[{\"field\":\"\",\"message\":\"\"}]},\"population\":[{\"populationId\":1,\"name\":\"p1\",\"virtualPopulationSize\":10000,\"endpointModel\":[{\"endpointId\":1,\"model\":{\"id\":1,\"value\":\"Exponential\"},\"inputMethod\":{\"id\":1,\"value\":\"Median Event Times\"},\"numberOfPieces\":1,\"control\":\"20\",\"treatment\":\"40\",\"hazardRatio\":\"0.5\",\"error\":[{\"field\":\"\",\"message\":\"\"}]}],\"dropoutRateModel\":{\"model\":{\"id\":1,\"value\":\"Exponential\"},\"inputMethod\":{\"id\":1,\"value\":\"Probability of Dropout\"},\"numberOfPieces\":1,\"byTime\":1,\"control\":\"0\",\"treatment\":\"0\",\"error\":[{\"field\":\"\",\"message\":\"\"}]},\"cardOrder\":1,\"error\":[{\"field\":\"\",\"message\":\"\"}]}],\"enrollment\":[{\"enrollmentId\":1,\"name\":\"en1\",\"inputMethod\":{\"id\":1,\"value\":\"Accrual Rate\"},\"distribution\":{\"id\":1,\"value\":\"Uniform\"},\"sites\":[{\"geography\":{\"id\":1,\"value\":\"USA\"},\"siteInitiationTime\":0,\"avgPatientsEnrolled\":8,\"enrollmentCap\":100,\"order\":1,\"error\":[{\"field\":\"\",\"message\":\"\"}]}],\"cardOrder\":1,\"error\":[{\"field\":\"\",\"message\":\"\"}]}],\"operationalCost\":[{\"operationalCostID\":\"ocID\",\"name\":\"oc1\",\"costPerPatient\":10000,\"fixedCost\":1000000,\"interimLookCost\":1000,\"cardOrder\":1,\"error\":[{\"field\":\"\",\"message\":\"\"}]}],\"marketAccess\":[{\"marketAccessId\":1,\"name\":\"ma\",\"endpointId\":1,\"annualRevenueInPeakYear\":5000000,\"timeToPeakAnnualRevenue\":10,\"proportionOfResidualSales\":0.9,\"anticipatedTreatmentEffect\":0.5,\"timeToPatentExpiry\":15,\"discountRate\":50,\"cardOrder\":1,\"error\":[{\"field\":\"\",\"message\":\"\"}]}],\"design\":[{}]}");

        public readonly static string jsonStr = "{\"validated\":true,\"objective\":{\"populationName\":\"Name of the population\",\"treatmentArm\":\"TArm\",\"controlArm\":\"CArm\",\"endpoint\":[{\"id\":1,\"Name\":\"Name 1\",\"Endpoint\":\"Overall Survival\",\"Type\":\"Time to event\",\"cardOrder\":1,\"error\":[{\"field\":\"Name\",\"message\":\"Error Message\"}]}],\"error\":[{\"field\":\"Name\",\"message\":\"Error Message\"}]},\"population\":[{\"populationId\":1,\"name\":\"Population Name\",\"virtualPopulationSize\":10000,\"endpointModel\":[{\"endpointId\":1,\"model\":{\"id\":1,\"value\":\"Exponential\"},\"inputMethod\":{\"id\":1,\"value\":\"Median Event Time\"},\"numberOfPieces\":1,\"control\":\"0.035, 0.045\",\"treatment\":\"0.017\",\"hazardRatio\":\"0.486\",\"error\":[{\"field\":\"Name\",\"message\":\"Error Message\"}]}],\"dropoutRateModel\":{\"model\":{\"id\":1,\"value\":\"Exponential\"},\"inputMethod\":{\"id\":1,\"value\":\"Probability of Dropout\"},\"numberOfPieces\":1,\"byTime\":10,\"control\":\"0.035\",\"treatment\":\"0.017\",\"error\":[{\"field\":\"Name\",\"message\":\"Error Message\"}]},\"cardOrder\":1,\"error\":[{\"field\":\"Name\",\"message\":\"Error Message\"}]}],\"enrollment\":[{\"enrollmentId\":1,\"name\":\"Enrollment Name 1\",\"inputMethod\":{\"id\":1,\"value\":\"Accrual Rate\"},\"distribution\":{\"id\":1,\"value\":\"Uniform\"},\"sites\":[{\"geography\":{\"id\":1,\"value\":\"USA\"},\"siteInititationTime\":0,\"avgPatientsEnrolled\":20,\"enrollmentCap\":33.33,\"order\":1,\"error\":[{\"field\":\"Name\",\"message\":\"Error Message\"}]}],\"cardOrder\":1,\"error\":[{\"field\":\"Name\",\"message\":\"Error Message\"}]}],\"operationalCost\":[{\"operationalCostID\":1,\"name\":\"Name operationalCost1\",\"costPerPatient\":10,\"fixedCost\":1000000,\"interimLookCost\":10000,\"cardOrder\":1,\"error\":[{\"field\":\"Name\",\"message\":\"Error Message\"}]}],\"marketAccess\":[{\"marketAccessId\":1,\"name\":\"Name MarketAccess1\",\"endpointId\":1,\"annualRevenueInPeakYear\":10000,\"timeToPeakAnnualRevenue\":102,\"proportionOfResidualSales\":10,\"anticipatedTreatmentEffect\":10,\"timeToPatentExpiry\":10,\"discountRate\":0.5,\"cardOrder\":1,\"error\":[{\"field\":\"Name\",\"message\":\"Error Message\"}]}],\"design\":[{\"designId\":1,\"designKey\":\"gh63e92767231we1ea4570b9e81dab753\",\"name\":\"Name of Design 1\",\"endpointId\":1,\"numberOfArms\":2,\"regulatoryRiskAssessment\":{\"id\":1,\"value\":\"Low\"},\"statisticalDesign\":{\"id\":1,\"value\":\"Fixed Sample\",\"version\":\"1.0.01\"},\"hypothesis\":{\"id\":1,\"value\":\"Superiority\"},\"numberOfEvents\":\"120\",\"sampleSize\":\"400\",\"allocationRatio\":\"3.5\",\"subjectsAreFollowedType\":{\"id\":2,\"value\":\"Fixed Period\"},\"subjectsAreFollowedPeriod\":3,\"type1Error\":\"0.5\",\"testStatistics\":{\"id\":1,\"value\":\"Logrank\"},\"testType\":{\"id\":1,\"value\":\"1-Sided\"},\"tailType\":{\"id\":1,\"value\":\"Left Tail\"},\"criticalPoint\":-1.96,\"error\":[{\"field\":\"Name\",\"message\":\"Error Message\"}]},{\"designId\":2,\"designKey\":\"fr45e92453231gh1ea4570b9e81dab56r\",\"name\":\"Name of Design 2\",\"endpointId\":1,\"numberOfArms\":2,\"regulatoryRiskAssessment\":{\"id\":1,\"value\":\"Low\"},\"statisticalDesign\":{\"id\":2,\"value\":\"Group Sequential\",\"version\":\"1.0.01\"},\"hypothesis\":{\"id\":1,\"value\":\"Superiority\"},\"numberOfEvents\":\"120\",\"sampleSize\":\"400\",\"allocationRatio\":\"3.5\",\"subjectsAreFollowedType\":{\"id\":2,\"value\":\"Fixed Period\"},\"subjectsAreFollowedPeriod\":3,\"type1Error\":\"0.5\",\"testStatistics\":{\"id\":1,\"value\":\"Logrank\"},\"testType\":{\"id\":1,\"value\":\"1-Sided\"},\"tailType\":{\"id\":1,\"value\":\"Left Tail\"},\"numberOfInterimAnalysis\":3,\"interimAnalysesSpacing\":[30,50,70.99],\"efficacy\":{\"boundaries\":[-1.96,-1.96,-1.96,-1.96],\"boundaryFamily\":{\"id\":1,\"value\":\"Spending Functions\"},\"spendingFunction\":{\"id\":1,\"value\":\"Gamma Family\"},\"parameter\":\"2.1\",\"boundaryScale\":{\"id\":1,\"value\":\"HR Scale\"}},\"error\":[{\"field\":\"Name\",\"message\":\"Error Message\"}]}]}";
        public readonly static JObject InputAdvisorJObject = JObject.Parse(jsonStr);

        public static List<InputAdvisor> InputAdvisorInputsList = new List<InputAdvisor>
        {
           new InputAdvisor { ProjectID = 1, ResourceID = 1, CreatedBy = "User1", Object = JObject.Parse("{}")},
           new InputAdvisor { ProjectID = 1, ResourceID = 1, CreatedBy = "User1", Object = SampleInputAdvisorInputs },
           new InputAdvisor { ProjectID = 4, ResourceID = 1, CreatedBy = "User1", Object = DefaultJSONSchema },
           new InputAdvisor { ProjectID = 1, ResourceID = 1, CreatedBy = "User1", Object = InputAdvisorJObject }
        };

        public static List<StatisticalEngines> statisticalEngineList = new List<StatisticalEngines>
        {
          new StatisticalEngines
          {
              Name = "Fixed Sample",
              Version = "1.0.0",
              ReleaseDate = Convert.ToDateTime("2020-04-28 04:32:04")
          }
        };

        public static StatisticalEngineDetails statisticalEngineDetail = new StatisticalEngineDetails
        {
            Schema = "{\"name\":\"mkyong\",\"id\":1,\"age\":37}",
            Template = "{ \"timestamp\":\"2019-03-05T09:34:13.207+0000\",\"status\":400,\"errors\":[\"Author is not allowed.\"]}"
        };
    }
}
